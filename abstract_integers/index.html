<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `abstract_integers` crate."><meta name="keywords" content="rust, rustlang, rust-lang, abstract_integers"><title>abstract_integers - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../dark.css"><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script src="../storage.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="shortcut icon" href="../favicon.ico"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../abstract_integers/index.html'><div class='logo-container'><img src='../rust-logo.png' alt='logo'></div></a><p class='location'>Crate abstract_integers</p><div class="sidebar-elems"><a id='all-types' href='all.html'><p>See all abstract_integers's items</p></a><div class="block items"><ul><li><a href="#macros">Macros</a></li><li><a href="#structs">Structs</a></li></ul></div><p class='location'></p><script>window.sidebarCurrent = {name: 'abstract_integers', ty: 'mod', relpath: '../'};</script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../theme.js"></script><nav class="sub"><form class="search-form js-only"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><a id="settings-menu" href="../settings.html"><img src="../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../src/abstract_integers/lib.rs.html#1-475' title='goto source code'>[src]</a></span><span class='in-band'>Crate <a class="mod" href=''>abstract_integers</a></span></h1><div class='docblock'><p>This crate defines specification-friendly natural integers with an upper bound. Operations on
these integers can be defined as modular (modulo the upper bound) or regular (with a panic
on underflow or overflow).</p>
<p>As each integer gets its own Rust type, the compiler detects and prevent any mixing between
all the diffent integers you would have defined.</p>
<h1 id="defining-a-new-integer-type" class="section-header"><a href="#defining-a-new-integer-type">Defining a new integer type</a></h1>
<p>Here is the macro used to defined the <code>SizeNatExample</code> type of this crate:</p>

<div class='information'><div class='tooltip ignore'>ⓘ<span class='tooltiptext'>This example is not tested</span></div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore">
<span class="macro">define_abstract_integer_checked</span><span class="macro">!</span>(<span class="ident">SizeNatExample</span>, <span class="number">64</span>);</pre></div>
<p><code>SizeNat</code> is the name of the newly-created type. <code>64</code> is the number of bits of the machine
representation of the type. From the number of bits is derived an upper bound for the integer
for which all operations are checked for overflow.</p>
<p>The resulting integer type is copyable, and supports addition, substraction, multiplication,
integer division, remainder, comparison and equality. The <code>from_literal</code> method allows you to
convert integer literals into your new type.</p>
<h1 id="refining-an-integer-type-for-modular-arithmetic" class="section-header"><a href="#refining-an-integer-type-for-modular-arithmetic">Refining an integer type for modular arithmetic</a></h1>
<p>On top of a previously defined abstract integer, you can define another type that lets you
implement modular arithmetic. For instance, this crate defines the arithmetic field over the
9th Mersenne prime with:</p>

<div class='information'><div class='tooltip ignore'>ⓘ<span class='tooltiptext'>This example is not tested</span></div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore">
<span class="macro">define_refined_modular_integer</span><span class="macro">!</span>(
   <span class="ident">SizeNatFieldExample</span>,
   <span class="ident">SizeNatExample</span>,
   <span class="ident">SizeNatExample</span>::<span class="ident">pow2</span>(<span class="number">61</span>) <span class="op">-</span> <span class="ident">SizeNatExample</span>::<span class="ident">from_literal</span>(<span class="number">1</span>)
);</pre></div>
<p>The first argument of this new macro is the name of the newly defined refined type. The second
argument is the name of the base abstract integer that will act as the representation. The
third example is the modulo for all operations, defined as a value of the base type.</p>
<h1 id="example" class="section-header"><a href="#example">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">x1</span> <span class="op">=</span> <span class="ident">SizeNatExample</span>::<span class="ident">from_literal</span>(<span class="number">687165654266415</span>);
<span class="kw">let</span> <span class="ident">x2</span> <span class="op">=</span> <span class="ident">SizeNatExample</span>::<span class="ident">from_literal</span>(<span class="number">4298832000156</span>);
<span class="kw">let</span> <span class="ident">x3</span> <span class="op">=</span> <span class="ident">x1</span> <span class="op">+</span> <span class="ident">x2</span>;
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="ident">SizeNatExample</span>::<span class="ident">from_literal</span>(<span class="number">691464486266571</span>), <span class="ident">x3</span>);
<span class="kw">let</span> <span class="ident">x4</span> <span class="op">=</span> <span class="ident">SizeNatExample</span>::<span class="ident">from_literal</span>(<span class="number">8151084996540</span>);
<span class="kw">let</span> <span class="ident">x5</span> <span class="op">=</span> <span class="ident">x3</span> <span class="op">-</span> <span class="ident">x4</span>;
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="ident">SizeNatExample</span>::<span class="ident">from_literal</span>(<span class="number">683313401270031</span>), <span class="ident">x5</span>.<span class="ident">into</span>());
<span class="kw">let</span> <span class="ident">x6</span> <span class="op">=</span> <span class="ident">x5</span> <span class="op">/</span> <span class="ident">SizeNatExample</span>::<span class="ident">from_literal</span>(<span class="number">1541654268</span>);
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="ident">SizeNatExample</span>::<span class="ident">from_literal</span>(<span class="number">443233</span>), <span class="ident">x6</span>.<span class="ident">into</span>());
<span class="kw">let</span> <span class="ident">x7</span> : <span class="ident">SizeNatFieldExample</span> <span class="op">=</span> <span class="ident">SizeNatFieldExample</span>::<span class="ident">from_literal</span>(<span class="number">2305843009213693951</span>) <span class="op">+</span> <span class="ident">x6</span>.<span class="ident">into</span>();
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="ident">x7</span>, <span class="ident">x6</span>.<span class="ident">into</span>());</pre></div>
</div><h2 id='macros' class='section-header'><a href="#macros">Macros</a></h2>
<table><tr class='module-item'><td><a class="macro" href="macro.define_abstract_integer_checked.html" title='abstract_integers::define_abstract_integer_checked macro'>define_abstract_integer_checked</a></td><td class='docblock-short'><p>Defines a bounded natural integer with regular arithmetic operations, checked for overflow
and underflow.</p>
</td></tr><tr class='module-item'><td><a class="macro" href="macro.define_refined_modular_integer.html" title='abstract_integers::define_refined_modular_integer macro'>define_refined_modular_integer</a></td><td class='docblock-short'><p>Defines a bounded natural integer with modular arithmetic operations</p>
</td></tr></table><h2 id='structs' class='section-header'><a href="#structs">Structs</a></h2>
<table><tr class='module-item'><td><a class="struct" href="struct.SizeNatExample.html" title='abstract_integers::SizeNatExample struct'>SizeNatExample</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="struct" href="struct.SizeNatFieldExample.html" title='abstract_integers::SizeNatFieldExample struct'>SizeNatFieldExample</a></td><td class='docblock-short'></td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../";window.currentCrate = "abstract_integers";</script><script src="../aliases.js"></script><script src="../main.js"></script><script defer src="../search-index.js"></script></body></html>